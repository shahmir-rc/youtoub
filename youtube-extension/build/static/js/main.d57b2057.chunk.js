(this["webpackJsonpyoutube-extension"]=this["webpackJsonpyoutube-extension"]||[]).push([[0],{42:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var s=n(0),i=n.n(s),o=n(31),a=n.n(o),c=n(35),l=n(2),d=n(11),r=n(12),u=n(9),h=n(15),j=n(14),p=(n(42),n(32)),b=n.n(p),v=(n(18),n(33),n(34),n(1)),f=null,g=null,m=null;function x(){null===g?(clearInterval(m),m=null):null===g||g.closed?null!==g&&g.closed&&(clearInterval(m),f.focus(),f.close({message:"child was closed"}),m=null,g=null):g.focus()}var O=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(d.a)(this,n),(s=t.call(this,e)).onClickHandler=s.onClickHandler.bind(Object(u.a)(s)),f=window.self,s}return Object(r.a)(n,[{key:"onClickHandler",value:function(){var e=this.props,t=e.url,n=e.name,s=e.opts,i=e.videos;!g||g.closed?(g=f.open(t,n,s),setTimeout((function(){g.opener.postMessage({message:"Opening YouTube Popup",selectedVideos:i},"*")}),0),null===m&&(m=setInterval(x,2e3))):g.focus()}},{key:"render",value:function(){var e=this.props.children;return Object(v.jsx)("button",{style:{zIndex:"1001",position:"relative"},className:"choose_btn",type:"choose_btn",onClick:this.onClickHandler,children:e})}}]),n}(i.a.Component);O.defaultProps={name:"YouTube Popup",opts:"dependent=".concat(1,", alwaysOnTop=",1,", alwaysRaised=",1,", width=",800,", height=",590)};var N=n(19),y=n.n(N),w=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(d.a)(this,n),console.log("props here >>>>",e),(s=t.call(this,e)).dragulaDecorator=function(e){if(e){b()([e],{copySortSource:!0})}},s.extension={},s.state={message:"",videoList:[],config:{}},s.sonResponse=s.sonResponse.bind(Object(u.a)(s)),s.deleteVideo=s.deleteVideo.bind(Object(u.a)(s)),s}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log("in mount >>>>",y.a),y.a.init().then((function(t){console.log("extension data here >>>>>",t);var n=t.field.getData().items;t.window.enableAutoResizing(),n&&"object"!==typeof n[0]?console.log("no assest found"):(console.log("assets found"),e.setState({config:t.config,videoList:n||[]},(function(){e.extension=t,t.window.enableAutoResizing()})))})).catch((function(e){console.log("error here >>>",e)}));window.addEventListener("message",(function(t){console.log("event recieved >>>>",t);var n=t.data,s=e.state.videoList;if(n.getConfig){var i=e.state.config;t.source.postMessage({message:"Sending Config files",config:i,selectedVideos:s},t.origin)}else n.selectedVideosList&&e.saveExtensionData(n.selectedVideosList);n.sessionData&&console.log("data here in recieve message >>>>",n)}),!1)}},{key:"saveExtensionData",value:function(e){var t=this.state.config,n=[];t.saveFullResponse?n=e:e.forEach((function(e){n.push(e.id.videoId)})),this.extension.field.setData({items:n}),this.setState({videoList:e})}},{key:"deleteVideo",value:function(e){var t=e.target.parentNode.parentNode.parentNode.id,n=this.state.videoList;n.splice(n.findIndex((function(e){return e.id.videoId===t})),1),this.saveExtensionData(n)}},{key:"sonResponse",value:function(e,t){e&&this.setState({message:t.message})}},{key:"render",value:function(){var e=this,t=this.state,n=t.videoList,s=t.config;return Object(v.jsx)("header",{className:"App-header",children:Object(v.jsxs)("div",{className:"wrapper",children:[Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("div",{className:"reference-loading",style:{display:"none"},children:Object(v.jsxs)("div",{className:"loading-flash",children:[Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{})]})}),Object(v.jsx)("div",{className:"main",children:Object(v.jsx)("div",{className:"selected-item",children:Object(v.jsx)("div",{className:"row selected-list",children:Object(v.jsx)("ul",{className:"drag1",ref:this.dragulaDecorator,children:n&&n.map((function(t){return Object(v.jsx)("li",{id:t.id.videoId,title:t.snippet.title,children:Object(v.jsxs)("div",{className:"file",children:[Object(v.jsx)("a",{href:"https://www.youtube.com/embed/".concat(t.id.videoId),target:"_blank",className:"fileimage",children:Object(v.jsx)("span",{className:"fileimg",style:{backgroundImage:"url(".concat(t.snippet.thumbnails.default.url,")")}})}),Object(v.jsx)("span",{children:t.snippet.title}),Object(v.jsxs)("span",{className:"file-text",children:["Channel Name-",t.snippet.channelTitle]}),Object(v.jsxs)("span",{className:"file-text",children:["Description-",t.snippet.description]}),Object(v.jsx)("div",{className:"file-action trash",onClick:e.deleteVideo,children:Object(v.jsx)("span",{className:"close-icon"})})]})},t.snippet.channelTitle)}))})})})})]}),Object(v.jsx)(O,{url:s.redirectUrl,bridge:this.sonResponse,videos:n,children:"Choose Asset"})]})})}}]),n}(i.a.Component);var k=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(c.a,{children:Object(v.jsx)(l.c,{children:Object(v.jsx)(l.a,{exact:!0,path:"/",component:w})})})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),s(e),i(e),o(e),a(e)}))};a.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(k,{})}),document.getElementById("root")),C()}},[[79,1,2]]]);