(this["webpackJsonpyoutube-extension-popup"]=this["webpackJsonpyoutube-extension-popup"]||[]).push([[0],{62:function(e,t,s){},71:function(e,t,s){"use strict";s.r(t);var n=s(1),i=s.n(n),a=s(31),c=s.n(a),o=s(34),d=s(2),l=s(8),r=s(9),h=s(10),u=s(12),j=s(11),b=s(22),p=s(17),m=s(20),v=s(13),g=s.n(v),x=s(16),O=s(0),A=function(e){Object(u.a)(s,e);var t=Object(j.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return Object(O.jsxs)("div",{className:"loader",children:[Object(O.jsx)("div",{children:Object(O.jsx)("div",{})}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{})}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{})}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{})}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{})}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{})}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{})}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{})}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{})}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{})}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{})}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{})})]})}}]),s}(i.a.Component),f=function(e){Object(u.a)(s,e);var t=Object(j.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props,t=e.isSelected,s=e.videos,n=e.selectedVideoList,i=e.handleSelect,a=e.loadContent,c=e.totalVideos,o=e.checkFiles,d=t?n:s;return Object(O.jsx)("ul",{className:"grid-layout",children:Object(O.jsx)("div",{className:"grid-body",children:d.length>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("ul",{children:null===d||void 0===d?void 0:d.map((function(e){var t=n.some((function(t){return t.id.videoId===e.id.videoId}));return Object(O.jsxs)("li",{title:e.snippet.title,id:e.id.videoId,className:t?"active":"",onClick:function(s){var n=s.currentTarget;t||e.id.videoId!==n.id?n.classList.remove("active"):n.classList.add("active"),i(e);var a=n.childNodes[0].childNodes[0].childNodes[0];a.checked=!a.checked},children:[Object(O.jsx)("div",{className:"cs-checkbox",children:Object(O.jsxs)("label",{children:[Object(O.jsx)("input",{type:"checkbox",className:"cs",defaultChecked:t,id:"checkbox-".concat(e.id.videoId),onChange:function(s){var n=s.target.parentNode.parentNode.parentNode;t||e.id.videoId!==n.id?n.classList.remove("active"):n.classList.add("active"),i(e)}}),Object(O.jsx)("span",{className:"lbl"})]})}),Object(O.jsxs)("div",{className:"item",children:[Object(O.jsx)("span",{className:"img",style:{backgroundImage:"url(".concat(e.snippet.thumbnails.medium.url,")")}}),Object(O.jsx)("span",{className:"name",children:e.snippet.title})]})]},e.id.videoId)}))}),Object(O.jsx)("div",{className:"load-more",onClick:a,style:{display:t||s.length+1>c?"none":"block"},children:Object(O.jsx)("a",{children:"Load More"})})]}):o?Object(O.jsx)("div",{className:"file-not-found",children:"File Not Found!"}):Object(O.jsx)(A,{})})})}}]),s}(i.a.PureComponent),N=s(32),w=s.n(N),y=function(e){Object(u.a)(s,e);var t=Object(j.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props,t=e.isSelected,s=e.videos,n=e.selectedVideoList,i=e.handleSelect,a=e.loadContent,c=e.totalVideos,o=e.checkFiles,d=t?n:s;return Object(O.jsxs)("ul",{className:"list-layout",children:[Object(O.jsxs)("li",{className:"table-head",children:[Object(O.jsx)("div",{className:"table-cell w-5"}),Object(O.jsx)("div",{className:"table-cell w-35",children:"Name"}),Object(O.jsx)("div",{className:"table-cell w-30",children:"Modified By"}),Object(O.jsx)("div",{className:"table-cell w-30",children:"Last Modified"})]}),Object(O.jsx)("div",{className:"table-body",children:d.length>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("ul",{className:"video-list",children:null===d||void 0===d?void 0:d.map((function(e){var t=n.some((function(t){return t.id.videoId===e.id.videoId}));return Object(O.jsxs)("li",{title:e.snippet.title,id:e.id.videoId,className:t?"active":"",onClick:function(s){var n=s.currentTarget;t||e.id.videoId!==n.id?n.classList.remove("active"):n.classList.add("active"),i(e);var a=n.childNodes[0].childNodes[0].childNodes[0];a.checked=!a.checked},children:[Object(O.jsx)("div",{className:"cs-checkbox",children:Object(O.jsxs)("label",{children:[Object(O.jsx)("input",{type:"checkbox",className:"cs",id:"checkbox-".concat(e.id.videoId),defaultChecked:t,onChange:function(s){var n=s.target.parentNode.parentNode.parentNode;t||e.id.videoId!==n.id?n.classList.remove("active"):n.classList.add("active"),i(e)}}),Object(O.jsx)("span",{className:"lbl"})]})}),Object(O.jsx)("div",{className:"table-cell w-35",children:e.snippet.title}),Object(O.jsx)("div",{className:"table-cell w-30",children:e.snippet.channelTitle}),Object(O.jsx)("div",{className:"table-cell w-30",children:w()(e.snippet.publishTime).format("ddd, MMM D YYYY")})]},e.id.videoId)}))}),Object(O.jsx)("div",{className:"load-more",onClick:a,style:{display:t||s.length+1>c?"none":"block"},children:Object(O.jsx)("a",{children:"Load More"})})]}):o?Object(O.jsx)("div",{className:"file-not-found",children:"File Not Found!"}):Object(O.jsx)(A,{})})]})}}]),s}(i.a.PureComponent),k=s(33),I=s.n(k),S=function(){function e(t){var s=t.apiKey,n=t.channelId;Object(l.a)(this,e),this.apiKey=s,this.channelId=n}return Object(r.a)(e,[{key:"getVideos",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,s=arguments.length>2?arguments[2]:void 0,n=this;return new Promise((function(i,a){var c={method:"GET",baseURL:"https://www.googleapis.com/youtube/v3/",url:"/search?part=snippet&maxResults=".concat(t,"&key=").concat(n.apiKey,"&channelId=").concat(n.channelId,"&type=video").concat(e?"&q=".concat(e):"&order=date","&pageToken=").concat(s||"")};I()(c).then((function(e){return i(e)})).catch((function(e){a(e)}))}))}}]),e}(),V=function(e,t,s){return Object(x.a)(g.a.mark((function n(){var i;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=new S(e),n.next=3,i.getVideos(t,8,s);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))()},C=function(e,t){return Object(x.a)(g.a.mark((function s(){var n;return g.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=new S(e),s.next=3,n.getVideos(t,8,"");case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}}),s)})))()},L=function(e){Object(u.a)(s,e);var t=Object(j.a)(s);function s(e){var n;return Object(l.a)(this,s),(n=t.call(this,e)).handleLoginSubmit=function(){var e=Object(x.a)(g.a.mark((function e(t){var s,i,a,c,o,d,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({loginLoading:!0}),s=n.state.loginFormData,i=s.url,a=s.email,c=s.password,console.log("Login Form Data:",{url:i,email:a,password:c}),"https://apiau.intelligencebank.com/webapp/1.0/login",(o=new Headers).append("Content-Type","application/x-www-form-urlencoded"),(d=new URLSearchParams).append("p70",a),d.append("p80",c),d.append("p90",i),l={method:"POST",headers:o,body:d,redirect:"follow"},e.next=14,fetch("https://apiau.intelligencebank.com/webapp/1.0/login",l).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleInputChange=function(e){var t=e.target,s=t.name,i=t.value;n.setState((function(e){return{loginFormData:Object(m.a)(Object(m.a)({},e.loginFormData),{},Object(p.a)({},s,i))}}))},n.selectingVideos=function(e){var t=n.state.selectedVideoList;if(t.some((function(t){return t.id.videoId===e.id.videoId})))t.splice(t.findIndex((function(t){return t.id.videoId===e.id.videoId})),1),n.setState({selectedVideoList:Object(b.a)(t)});else{var s=Object(b.a)(t);s.push(e),n.setState({selectedVideoList:s})}},n.refreshHandler=function(){var e=n.props.config;V(e).then((function(e){n.setState({initialReqVideo:e.data,renderVideos:e.data.items,nextPageToken:e.data.nextPageToken})})).catch((function(e){console.log(e)}))},n.loadMore=function(e){var t=n.props.config,s=n.state,i=s.searchQuery,a=s.nextPageToken,c=s.renderVideos,o=s.initialReqVideo;c.length!==o.pageInfo.totalResults?V(t,i,a).then((function(t){var s=n.state.renderVideos;(s=s.concat(t.data.items)).length+1>=o.pageInfo.totalResults&&(e.target.style.display="none");var i=0===s.length;n.setState({renderVideos:s,nextPageToken:t.data.nextPageToken,errorFound:i})})).catch((function(e){console.log(e),n.setState({errorFound:!0})})):e.target.style.display="none"},n.sendAndClose=function(e){var t=n.state.selectedVideoList;e?n.props.closeWindow(t):n.props.closeWindow([])},n.changeLayout=function(){n.setState((function(e){return{isGrid:!e.isGrid}}))},n.showAllVideos=function(){n.setState((function(e){return{isSelected:!e.isSelected}}))},n.showSelectedVideos=function(){n.setState((function(e){return{isSelected:!e.isSelected}}))},n.searchQueryHandler=function(e){var t=n.props.config,s=e.target.value.toLowerCase();n.setState({searchQuery:s}),13===e.charCode&&C(t,s).then((function(e){var t=0===e.data.items.length;n.setState({initialReqVideo:e.data,renderVideos:e.data.items,nextPageToken:e.data.nextPageToken,errorFound:t})}))},n.fetchQueryVideos=function(){var e=n.props.config,t=n.state.searchQuery;C(e,t).then((function(e){n.setState({initialReqVideo:e.data,renderVideos:e.data.items,nextPageToken:e.data.nextPageToken})}))},n.state={isGrid:!0,searchQuery:"",renderVideos:[],errorFound:!1,isSelected:!1,nextPageToken:void 0,initialReqVideo:void 0,selectedVideoList:e.selectedVideos,sessionID:"",loginFormData:{url:"",email:"",password:""},loginLoading:!1},n.loadMore=n.loadMore.bind(Object(h.a)(n)),n.changeLayout=n.changeLayout.bind(Object(h.a)(n)),n.refreshHandler=n.refreshHandler.bind(Object(h.a)(n)),n.selectingVideos=n.selectingVideos.bind(Object(h.a)(n)),n.fetchQueryVideos=n.fetchQueryVideos.bind(Object(h.a)(n)),n.searchQueryHandler=n.searchQueryHandler.bind(Object(h.a)(n)),n}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.config;V(t).then((function(t){t.data.items.length+1>=t.data.pageInfo.totalResults&&(document.getElementsByClassName("load-more")[0].style.display="none");var s=0===t.data.items.length;e.setState({initialReqVideo:t.data,renderVideos:t.data.items,nextPageToken:t.data.nextPageToken,errorFound:s})})).catch((function(t){console.log(t),e.setState({errorFound:!0})}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.selectedVideos;e.selectedVideos!==t&&this.setState({selectedVideoList:e.selectedVideos})}},{key:"handleClick",value:function(){this.setState((function(e){return{isGrid:!e.isGrid}}))}},{key:"render",value:function(){var e=this,t=this.state,s=t.renderVideos,n=t.selectedVideoList,i=t.initialReqVideo,a=t.isSelected,c=t.errorFound,o=t.sessionID,d=t.loginFormData,l=t.loginLoading;return console.log("sessionId here in modal >>>>>",o),Object(O.jsx)("div",{className:"modal display-block",children:(null===o||void 0===o?void 0:o.length)>0?Object(O.jsxs)("section",{className:"modal-main",children:[this.props.children,Object(O.jsx)("div",{className:"modal-header",children:Object(O.jsx)("h2",{children:"Select Video"})}),Object(O.jsx)("div",{className:"search-bar",children:Object(O.jsxs)("div",{className:"cs-form-group search-box no-margin",children:[Object(O.jsx)("span",{className:"search-input",children:Object(O.jsx)("input",{type:"search",id:"search",className:"cs-text-box cs-global-search",placeholder:"Search Videos",onKeyPress:this.searchQueryHandler})}),Object(O.jsx)("span",{className:"search-icon",onClick:this.fetchQueryVideos,children:Object(O.jsx)("i",{className:"icon-search"})})]})}),Object(O.jsxs)("div",{className:"modal-body",children:[Object(O.jsxs)("div",{className:"video-section",children:[Object(O.jsx)("span",{children:"All Videos"}),Object(O.jsxs)("div",{className:"icons",children:[Object(O.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF5SURBVHgB1ZNNTsJAFIDfqyUiK47QI3CEeoO6gxW4MXVFEyxxJ+4MkEhX7c6ywcaNvUE5AjegR2AlTYQ+Z/oj08bWxJ0vaWY68773N+8hVIhmGO1mBG2+95xFWKWH5YOubg7YYZ9t1ZLmhggsgM91brCrjx/wBBoKYuMdCDoCFmarIp4hoBsnNmmC3zA0glQRQ4hja986uP5iscup3s1IIwmHDFaLgfFL3dymMC33zYMhgmXp3Zo8Si3/l3jOueffYJ6zCHORkWgIyLKB+Loe5sWlAZzqkl+MXvgH/1YQ/iisJkna2NPH2x/MTl7t6bIavlNZPwRIuJHZ2ytFlh5X9rwS5jOCESbeYyRLKnpGf+XMJ3VwKzp/hqxvPGfmygUNIo11ZXBEtN7sqS+CFx/yACIcsn5JYALpEtIamMTDTodD6hdTYnORWlaEHNlUnl15zlNyJyc5Z2F39XsX4Khm3dkpGqM1AS49e+aKQdc+I59SvkZN2FW1+ReWDaDM6q25YAAAAABJRU5ErkJggg==",alt:"refresh-icon",onClick:this.refreshHandler}),Object(O.jsx)("img",{src:this.state.isGrid?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAQCAYAAAD0xERiAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB8SURBVHgB7dKxDYAgEEDRuwuDMImJJQuY2OEkuol0Ji5AaeIkTAIGI52Q01DyG4p7uebAzR6SgDRk8uDNqHrHcSICIpohr2ILxxFUrC37nognfS722j1PL8NVC3d7aiRccyD4MA2qMxxHAYKEQmnOce2f/ViGgK4E0pzjLuIGN5tNMdeEAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADVSURBVHgBzZSxEcIwDEW/FA+SQYBLGjiOGhoKWIEJgE3S5SAD5KCJIQtkBEbIAJyMlQAD+FLkFfY/FbIsfZuKW+2gEOx6Pk0v5ePEzEcEwhgYIyJnFQR69Sew9TGMBiruddUpR816MTlcy+eeItohEAOHpE/dz8bBxeQoQSCa0OJbYZdXe/mLjQFS33XCV7ZZzrKirBOBJAjE/E1M3TUzTTYqYw8O5b5nKkTe7XaVNnlZxb4TMQIxhtEbOzLWr6l/entmjOhzgCBV4SJudfdTzljYIpAPogJIB3xnhUwAAAAASUVORK5CYII=",onClick:this.changeLayout,alt:"view-option"})]})]}),Object(O.jsxs)("div",{className:"video-section",children:[this.state.isSelected?Object(O.jsxs)("span",{className:"select-count",onClick:this.showAllVideos,children:["Show all videos(",null===i||void 0===i?void 0:i.pageInfo.totalResults,")"]}):Object(O.jsxs)("span",{className:"select-count",onClick:this.showSelectedVideos,children:["Show selected videos(",n.length,")"]}),Object(O.jsxs)("span",{className:"video-count",children:["showing ",s.length," of"," ",null===i||void 0===i?void 0:i.pageInfo.totalResults," videos"]})]}),this.state.isGrid?Object(O.jsx)(f,{videos:s,isSelected:a,checkFiles:c,loadContent:this.loadMore,handleSelect:this.selectingVideos,selectedVideoList:n,totalVideos:i&&i.pageInfo.totalResults}):Object(O.jsx)(y,{videos:s,isSelected:a,checkFiles:c,loadContent:this.loadMore,handleSelect:this.selectingVideos,selectedVideoList:n,totalVideos:i&&i.pageInfo.totalResults})]}),Object(O.jsx)("div",{className:"modal-footer",children:Object(O.jsxs)("div",{className:"right",children:[Object(O.jsx)("button",{className:"cancel-btn btn",onClick:function(){return e.sendAndClose(!1)},children:"Cancel"}),Object(O.jsxs)("button",{className:"add-btn btn",onClick:function(){return e.sendAndClose(!0)},children:["Add Selected Videos ",n.length]})]})})]}):Object(O.jsx)("section",{className:"modal-main",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("form",{className:"main-container",onSubmit:this.handleLoginSubmit,children:Object(O.jsxs)("div",{className:"image-container",children:[Object(O.jsx)("img",{src:"https://images.contentstack.io/v3/assets/blt221fb47986d5e67e/blt2cb29b8ea92a9836/65a7bfeebad37d43f89df7de/download.png",alt:"",className:"logo"}),Object(O.jsxs)("div",{className:"parent-container",children:[Object(O.jsx)("div",{children:Object(O.jsx)("p",{children:"Login to your intelliganceBank account by entering your credentials below."})}),Object(O.jsxs)("div",{className:"child-container",children:[Object(O.jsx)("span",{htmlFor:"url",className:"urltext",children:"URL (without https://)"}),Object(O.jsxs)("div",{className:"url-container",children:[Object(O.jsx)("input",{type:"text",id:"url",name:"url",className:"ib-url",value:d.url,onChange:this.handleInputChange,required:!0}),Object(O.jsx)("span",{children:".intelligencebank.com"})]}),Object(O.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(O.jsx)("input",{type:"email",id:"email",name:"email",value:d.email,onChange:this.handleInputChange,className:"input-email",required:!0}),Object(O.jsx)("label",{htmlFor:"password",className:"password-field",children:"Password:"}),Object(O.jsx)("input",{type:"password",id:"password",name:"password",value:d.password,onChange:this.handleInputChange,className:"input-password",required:!0}),Object(O.jsx)("button",{type:"submit",className:"login-button",children:l?"Loading...":"Login"})]})]})]})})})})})}}]),s}(i.a.PureComponent),F=function(e){Object(u.a)(s,e);var t=Object(j.a)(s);function s(e){var n;return Object(l.a)(this,s),console.log("props here in pop js"),(n=t.call(this,e)).onCloseWindow=function(e){e.length>0?window.opener.postMessage({message:"sending selected videos",selectedVideosList:e},"*"):window.opener.postMessage({message:"Window closed sending selected videos"},"*"),window.close()},n.state={message:"",config:void 0,selectedVideosList:[]},n.onCloseWindow=n.onCloseWindow.bind(Object(h.a)(n)),n}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var e=this;window.opener||window.close(),window.opener.postMessage({message:"get youtube config and selected videos",getConfig:!0},"*");window.addEventListener("message",(function(t){var s=t.data;s.config&&e.setState({message:s.message,config:s.config}),s.selectedVideos&&e.setState({message:s.message,selectedVideosList:s.selectedVideos})}),!1)}},{key:"render",value:function(){var e=this.state,t=e.config,s=e.selectedVideosList;return console.log("config here >>>>> in modal",t),Object(O.jsx)("div",{children:t&&Object(O.jsx)(L,{config:t,closeWindow:this.onCloseWindow,selectedVideos:s})})}}]),s}(i.a.Component);s(62);var R=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(o.a,{children:Object(O.jsx)(d.c,{children:Object(O.jsx)(d.a,{exact:!0,path:"/",component:F})})})})},E=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,72)).then((function(t){var s=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;s(e),n(e),i(e),a(e),c(e)}))};c.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(R,{})}),document.getElementById("root")),E()}},[[71,1,2]]]);