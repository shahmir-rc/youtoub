(this["webpackJsonpyoutube-extension-popup"]=this["webpackJsonpyoutube-extension-popup"]||[]).push([[0],{60:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),i=n(31),o=n.n(i),c=n(33),r=n(2),d=n(11),l=n(12),u=n(8),h=n(18),g=n(17),p=n(22),A=n(16),b=n(9),j=n.n(b),m=n(15),f=n(14),x=n(32),v=n.n(x),O=function(){function e(t){var n=t.apiKey,s=t.channelId;Object(d.a)(this,e),this.apiKey=n,this.channelId=s}return Object(l.a)(e,[{key:"getVideos",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=arguments.length>2?arguments[2]:void 0,s=this;return new Promise((function(a,i){var o={method:"GET",baseURL:"https://www.googleapis.com/youtube/v3/",url:"/search?part=snippet&maxResults=".concat(t,"&key=").concat(s.apiKey,"&channelId=").concat(s.channelId,"&type=video").concat(e?"&q=".concat(e):"&order=date","&pageToken=").concat(n||"")};v()(o).then((function(e){return a(e)})).catch((function(e){i(e)}))}))}}]),e}(),w=function(e,t,n){return Object(f.a)(j.a.mark((function s(){var a;return j.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a=new O(e),s.next=3,a.getVideos(t,8,n);case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}}),s)})))()},S=function(e,t){return Object(f.a)(j.a.mark((function n(){var s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=new O(e),n.next=3,s.getVideos(t,8,"");case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))()},y=n(0),I=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(e){var s;return Object(d.a)(this,n),(s=t.call(this,e)).handleLoginSubmit=function(){var e=Object(f.a)(j.a.mark((function e(t){var n,a,i,o,c,r,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s.setState({loginLoading:!0}),n=s.state.loginFormData,a=n.url,i=n.email,o=n.password,console.log("Login Form Data:",{url:a,email:i,password:o}),"https://apiau.intelligencebank.com/webapp/1.0/login",(c=new Headers).append("Content-Type","application/x-www-form-urlencoded"),(r=new URLSearchParams).append("p70",i),r.append("p80",o),r.append("p90",a),d={method:"POST",headers:c,body:r,redirect:"follow"},e.next=14,fetch("https://apiau.intelligencebank.com/webapp/1.0/login",d).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e),n=t.apiV3url,a=t.clientid,i=t.sid;s.setState((function(e){return Object(m.a)(Object(m.a)({},e),{},{baseApiUrl:n,clientId:a,sessionID:i})})),console.log("json data here >>>>",t)})).catch((function(e){return console.log("error",e)}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.handleInputChange=function(e){var t=e.target,n=t.name,a=t.value;s.setState((function(e){return{loginFormData:Object(m.a)(Object(m.a)({},e.loginFormData),{},Object(A.a)({},n,a))}}))},s.selectingVideos=function(e){var t=s.state.selectedVideoList;if(t.some((function(t){return t.id.videoId===e.id.videoId})))t.splice(t.findIndex((function(t){return t.id.videoId===e.id.videoId})),1),s.setState({selectedVideoList:Object(p.a)(t)});else{var n=Object(p.a)(t);n.push(e),s.setState({selectedVideoList:n})}},s.refreshHandler=function(){var e=s.props.config;w(e).then((function(e){s.setState({initialReqVideo:e.data,renderVideos:e.data.items,nextPageToken:e.data.nextPageToken})})).catch((function(e){console.log(e)}))},s.loadMore=function(e){var t=s.props.config,n=s.state,a=n.searchQuery,i=n.nextPageToken,o=n.renderVideos,c=n.initialReqVideo;o.length!==c.pageInfo.totalResults?w(t,a,i).then((function(t){var n=s.state.renderVideos;(n=n.concat(t.data.items)).length+1>=c.pageInfo.totalResults&&(e.target.style.display="none");var a=0===n.length;s.setState({renderVideos:n,nextPageToken:t.data.nextPageToken,errorFound:a})})).catch((function(e){console.log(e),s.setState({errorFound:!0})})):e.target.style.display="none"},s.sendAndClose=function(e){var t=s.state.selectedVideoList;e?s.props.closeWindow(t):s.props.closeWindow([])},s.changeLayout=function(){s.setState((function(e){return{isGrid:!e.isGrid}}))},s.showAllVideos=function(){s.setState((function(e){return{isSelected:!e.isSelected}}))},s.showSelectedVideos=function(){s.setState((function(e){return{isSelected:!e.isSelected}}))},s.searchQueryHandler=function(e){var t=s.props.config,n=e.target.value.toLowerCase();s.setState({searchQuery:n}),13===e.charCode&&S(t,n).then((function(e){var t=0===e.data.items.length;s.setState({initialReqVideo:e.data,renderVideos:e.data.items,nextPageToken:e.data.nextPageToken,errorFound:t})}))},s.fetchQueryVideos=function(){var e=s.props.config,t=s.state.searchQuery;S(e,t).then((function(e){s.setState({initialReqVideo:e.data,renderVideos:e.data.items,nextPageToken:e.data.nextPageToken})}))},s.state={isGrid:!0,searchQuery:"",renderVideos:[],errorFound:!1,isSelected:!1,nextPageToken:void 0,initialReqVideo:void 0,selectedVideoList:e.selectedVideos,sessionID:"",clienId:"",baseApiUrl:"",loginFormData:{url:"",email:"",password:""},loginLoading:!1},s.loadMore=s.loadMore.bind(Object(u.a)(s)),s.changeLayout=s.changeLayout.bind(Object(u.a)(s)),s.refreshHandler=s.refreshHandler.bind(Object(u.a)(s)),s.selectingVideos=s.selectingVideos.bind(Object(u.a)(s)),s.fetchQueryVideos=s.fetchQueryVideos.bind(Object(u.a)(s)),s.searchQueryHandler=s.searchQueryHandler.bind(Object(u.a)(s)),s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.config;w(t).then((function(t){t.data.items.length+1>=t.data.pageInfo.totalResults&&(document.getElementsByClassName("load-more")[0].style.display="none");var n=0===t.data.items.length;e.setState({initialReqVideo:t.data,renderVideos:t.data.items,nextPageToken:t.data.nextPageToken,errorFound:n})})).catch((function(t){console.log(t),e.setState({errorFound:!0})}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.selectedVideos;e.selectedVideos!==t&&this.setState({selectedVideoList:e.selectedVideos})}},{key:"handleClick",value:function(){this.setState((function(e){return{isGrid:!e.isGrid}}))}},{key:"render",value:function(){var e=this.state,t=e.renderVideos,n=e.selectedVideoList,s=e.initialReqVideo,a=e.sessionID,i=e.loginFormData,o=e.loginLoading;return console.log("sessionId here in modal >>>>>",a),(null===a||void 0===a?void 0:a.length)>1?Object(y.jsx)("div",{className:"modal display-block",children:Object(y.jsxs)("section",{className:"modal-main",children:[this.props.children,Object(y.jsx)("div",{className:"modal-header",children:Object(y.jsx)("h2",{children:"Select Asset"})}),Object(y.jsx)("div",{className:"search-bar",children:Object(y.jsxs)("div",{className:"cs-form-group search-box no-margin",children:[Object(y.jsx)("span",{className:"search-input",children:Object(y.jsx)("input",{type:"search",id:"search",className:"cs-text-box cs-global-search",placeholder:"Search Videos"})}),Object(y.jsx)("span",{className:"search-icon",children:Object(y.jsx)("i",{className:"icon-search"})})]})}),Object(y.jsxs)("div",{className:"modal-body",children:[Object(y.jsxs)("div",{className:"video-section",children:[Object(y.jsx)("span",{children:"All Assets"}),Object(y.jsxs)("div",{className:"icons",children:[Object(y.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF5SURBVHgB1ZNNTsJAFIDfqyUiK47QI3CEeoO6gxW4MXVFEyxxJ+4MkEhX7c6ywcaNvUE5AjegR2AlTYQ+Z/oj08bWxJ0vaWY68773N+8hVIhmGO1mBG2+95xFWKWH5YOubg7YYZ9t1ZLmhggsgM91brCrjx/wBBoKYuMdCDoCFmarIp4hoBsnNmmC3zA0glQRQ4hja986uP5iscup3s1IIwmHDFaLgfFL3dymMC33zYMhgmXp3Zo8Si3/l3jOueffYJ6zCHORkWgIyLKB+Loe5sWlAZzqkl+MXvgH/1YQ/iisJkna2NPH2x/MTl7t6bIavlNZPwRIuJHZ2ytFlh5X9rwS5jOCESbeYyRLKnpGf+XMJ3VwKzp/hqxvPGfmygUNIo11ZXBEtN7sqS+CFx/yACIcsn5JYALpEtIamMTDTodD6hdTYnORWlaEHNlUnl15zlNyJyc5Z2F39XsX4Khm3dkpGqM1AS49e+aKQdc+I59SvkZN2FW1+ReWDaDM6q25YAAAAABJRU5ErkJggg==",alt:"refresh-icon"}),Object(y.jsx)("img",{src:this.state.isGrid?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAQCAYAAAD0xERiAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB8SURBVHgB7dKxDYAgEEDRuwuDMImJJQuY2OEkuol0Ji5AaeIkTAIGI52Q01DyG4p7uebAzR6SgDRk8uDNqHrHcSICIpohr2ILxxFUrC37nognfS722j1PL8NVC3d7aiRccyD4MA2qMxxHAYKEQmnOce2f/ViGgK4E0pzjLuIGN5tNMdeEAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADVSURBVHgBzZSxEcIwDEW/FA+SQYBLGjiOGhoKWIEJgE3S5SAD5KCJIQtkBEbIAJyMlQAD+FLkFfY/FbIsfZuKW+2gEOx6Pk0v5ePEzEcEwhgYIyJnFQR69Sew9TGMBiruddUpR816MTlcy+eeItohEAOHpE/dz8bBxeQoQSCa0OJbYZdXe/mLjQFS33XCV7ZZzrKirBOBJAjE/E1M3TUzTTYqYw8O5b5nKkTe7XaVNnlZxb4TMQIxhtEbOzLWr6l/entmjOhzgCBV4SJudfdTzljYIpAPogJIB3xnhUwAAAAASUVORK5CYII=",alt:"view-option"})]})]}),Object(y.jsxs)("div",{className:"video-section",children:[this.state.isSelected?Object(y.jsxs)("span",{className:"select-count",children:["Show all Assets(",null===s||void 0===s?void 0:s.pageInfo.totalResults,")"]}):Object(y.jsxs)("span",{className:"select-count",children:["Show selected Assets(",n.length,")"]}),Object(y.jsxs)("span",{className:"video-count",children:["showing ",t.length," of"," ",null===s||void 0===s?void 0:s.pageInfo.totalResults," assets"]})]}),this.state.isGrid?Object(y.jsx)("p",{children:"grid here"}):Object(y.jsx)("p",{children:"list here "})]}),Object(y.jsx)("div",{className:"modal-footer",children:Object(y.jsxs)("div",{className:"right",children:[Object(y.jsx)("button",{className:"cancel-btn btn",children:"Cancel"}),Object(y.jsxs)("button",{className:"add-btn btn",children:["Add Selected assets ",n.length]})]})})]})}):Object(y.jsx)("div",{className:"modal display-block",children:Object(y.jsx)("section",{className:"modal-main",children:Object(y.jsx)("div",{className:"container",children:Object(y.jsx)("form",{className:"main-container",onSubmit:this.handleLoginSubmit,children:Object(y.jsxs)("div",{className:"image-container",children:[Object(y.jsx)("img",{src:"https://images.contentstack.io/v3/assets/blt221fb47986d5e67e/blt2cb29b8ea92a9836/65a7bfeebad37d43f89df7de/download.png",alt:"",className:"logo"}),Object(y.jsxs)("div",{className:"parent-container",children:[Object(y.jsx)("div",{children:Object(y.jsx)("p",{children:"Login to your intelliganceBank account by entering your credentials below."})}),Object(y.jsxs)("div",{className:"child-container",children:[Object(y.jsx)("span",{htmlFor:"url",className:"urltext",children:"URL (without https://)"}),Object(y.jsxs)("div",{className:"url-container",children:[Object(y.jsx)("input",{type:"text",id:"url",name:"url",className:"ib-url",value:i.url,onChange:this.handleInputChange,required:!0}),Object(y.jsx)("span",{children:".intelligencebank.com"})]}),Object(y.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(y.jsx)("input",{type:"email",id:"email",name:"email",value:i.email,onChange:this.handleInputChange,className:"input-email",required:!0}),Object(y.jsx)("label",{htmlFor:"password",className:"password-field",children:"Password:"}),Object(y.jsx)("input",{type:"password",id:"password",name:"password",value:i.password,onChange:this.handleInputChange,className:"input-password",required:!0}),Object(y.jsx)("button",{type:"submit",className:"login-button",children:o?"Loading...":"Login"})]})]})]})})})})})}}]),n}(a.a.PureComponent),V=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(e){var s;return Object(d.a)(this,n),console.log("props here in pop js"),(s=t.call(this,e)).onCloseWindow=function(e){e.length>0?window.opener.postMessage({message:"sending selected videos",selectedVideosList:e},"*"):window.opener.postMessage({message:"Window closed sending selected videos"},"*"),window.close()},s.state={message:"",config:void 0,selectedVideosList:[]},s.onCloseWindow=s.onCloseWindow.bind(Object(u.a)(s)),s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.opener||window.close(),window.opener.postMessage({message:"get youtube config and selected videos",getConfig:!0},"*");window.addEventListener("message",(function(t){var n=t.data;n.config&&e.setState({message:n.message,config:n.config}),n.selectedVideos&&e.setState({message:n.message,selectedVideosList:n.selectedVideos})}),!1)}},{key:"render",value:function(){var e=this.state,t=e.config,n=e.selectedVideosList;return console.log("config here >>>>> in modal",t),Object(y.jsx)("div",{children:t&&Object(y.jsx)(I,{config:t,closeWindow:this.onCloseWindow,selectedVideos:n})})}}]),n}(a.a.Component);n(60);var N=function(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(c.a,{children:Object(y.jsx)(r.c,{children:Object(y.jsx)(r.a,{exact:!0,path:"/",component:V})})})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),s(e),a(e),i(e),o(e)}))};o.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(N,{})}),document.getElementById("root")),C()}},[[69,1,2]]]);