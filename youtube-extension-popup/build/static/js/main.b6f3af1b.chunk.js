(this["webpackJsonpyoutube-extension-popup"]=this["webpackJsonpyoutube-extension-popup"]||[]).push([[0],{60:function(e,t,s){},69:function(e,t,s){"use strict";s.r(t);var n=s(1),i=s.n(n),c=s(29),a=s.n(c),o=s(32),d=s(2),l=s(8),r=s(9),h=s(10),u=s(12),j=s(11),b=s(20),p=s(0),v=function(e){Object(u.a)(s,e);var t=Object(j.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"loader",children:[Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})})]})}}]),s}(i.a.Component),A=function(e){Object(u.a)(s,e);var t=Object(j.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props,t=e.isSelected,s=e.videos,n=e.selectedVideoList,i=e.handleSelect,c=e.loadContent,a=e.totalVideos,o=e.checkFiles,d=t?n:s;return Object(p.jsx)("ul",{className:"grid-layout",children:Object(p.jsx)("div",{className:"grid-body",children:d.length>0?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("ul",{children:null===d||void 0===d?void 0:d.map((function(e){var t=n.some((function(t){return t.id.videoId===e.id.videoId}));return Object(p.jsxs)("li",{title:e.snippet.title,id:e.id.videoId,className:t?"active":"",onClick:function(s){var n=s.currentTarget;t||e.id.videoId!==n.id?n.classList.remove("active"):n.classList.add("active"),i(e);var c=n.childNodes[0].childNodes[0].childNodes[0];c.checked=!c.checked},children:[Object(p.jsx)("div",{className:"cs-checkbox",children:Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"checkbox",className:"cs",defaultChecked:t,id:"checkbox-".concat(e.id.videoId),onChange:function(s){var n=s.target.parentNode.parentNode.parentNode;t||e.id.videoId!==n.id?n.classList.remove("active"):n.classList.add("active"),i(e)}}),Object(p.jsx)("span",{className:"lbl"})]})}),Object(p.jsxs)("div",{className:"item",children:[Object(p.jsx)("span",{className:"img",style:{backgroundImage:"url(".concat(e.snippet.thumbnails.medium.url,")")}}),Object(p.jsx)("span",{className:"name",children:e.snippet.title})]})]},e.id.videoId)}))}),Object(p.jsx)("div",{className:"load-more",onClick:c,style:{display:t||s.length+1>a?"none":"block"},children:Object(p.jsx)("a",{children:"Load More"})})]}):o?Object(p.jsx)("div",{className:"file-not-found",children:"File Not Found!"}):Object(p.jsx)(v,{})})})}}]),s}(i.a.PureComponent),g=s(30),m=s.n(g),O=function(e){Object(u.a)(s,e);var t=Object(j.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this.props,t=e.isSelected,s=e.videos,n=e.selectedVideoList,i=e.handleSelect,c=e.loadContent,a=e.totalVideos,o=e.checkFiles,d=t?n:s;return Object(p.jsxs)("ul",{className:"list-layout",children:[Object(p.jsxs)("li",{className:"table-head",children:[Object(p.jsx)("div",{className:"table-cell w-5"}),Object(p.jsx)("div",{className:"table-cell w-35",children:"Name"}),Object(p.jsx)("div",{className:"table-cell w-30",children:"Modified By"}),Object(p.jsx)("div",{className:"table-cell w-30",children:"Last Modified"})]}),Object(p.jsx)("div",{className:"table-body",children:d.length>0?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("ul",{className:"video-list",children:null===d||void 0===d?void 0:d.map((function(e){var t=n.some((function(t){return t.id.videoId===e.id.videoId}));return Object(p.jsxs)("li",{title:e.snippet.title,id:e.id.videoId,className:t?"active":"",onClick:function(s){var n=s.currentTarget;t||e.id.videoId!==n.id?n.classList.remove("active"):n.classList.add("active"),i(e);var c=n.childNodes[0].childNodes[0].childNodes[0];c.checked=!c.checked},children:[Object(p.jsx)("div",{className:"cs-checkbox",children:Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"checkbox",className:"cs",id:"checkbox-".concat(e.id.videoId),defaultChecked:t,onChange:function(s){var n=s.target.parentNode.parentNode.parentNode;t||e.id.videoId!==n.id?n.classList.remove("active"):n.classList.add("active"),i(e)}}),Object(p.jsx)("span",{className:"lbl"})]})}),Object(p.jsx)("div",{className:"table-cell w-35",children:e.snippet.title}),Object(p.jsx)("div",{className:"table-cell w-30",children:e.snippet.channelTitle}),Object(p.jsx)("div",{className:"table-cell w-30",children:m()(e.snippet.publishTime).format("ddd, MMM D YYYY")})]},e.id.videoId)}))}),Object(p.jsx)("div",{className:"load-more",onClick:c,style:{display:t||s.length+1>a?"none":"block"},children:Object(p.jsx)("a",{children:"Load More"})})]}):o?Object(p.jsx)("div",{className:"file-not-found",children:"File Not Found!"}):Object(p.jsx)(v,{})})]})}}]),s}(i.a.PureComponent),x=s(15),f=s.n(x),N=s(18),y=s(31),w=s.n(y),V=function(){function e(t){var s=t.apiKey,n=t.channelId;Object(l.a)(this,e),this.apiKey=s,this.channelId=n}return Object(r.a)(e,[{key:"getVideos",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,s=arguments.length>2?arguments[2]:void 0,n=this;return new Promise((function(i,c){var a={method:"GET",baseURL:"https://www.googleapis.com/youtube/v3/",url:"/search?part=snippet&maxResults=".concat(t,"&key=").concat(n.apiKey,"&channelId=").concat(n.channelId,"&type=video").concat(e?"&q=".concat(e):"&order=date","&pageToken=").concat(s||"")};w()(a).then((function(e){return i(e)})).catch((function(e){c(e)}))}))}}]),e}(),k=function(e,t,s){return Object(N.a)(f.a.mark((function n(){var i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=new V(e),n.next=3,i.getVideos(t,8,s);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))()},S=function(e,t){return Object(N.a)(f.a.mark((function s(){var n;return f.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=new V(e),s.next=3,n.getVideos(t,8,"");case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}}),s)})))()},I=function(e){Object(u.a)(s,e);var t=Object(j.a)(s);function s(e){var n;return Object(l.a)(this,s),(n=t.call(this,e)).selectingVideos=function(e){var t=n.state.selectedVideoList;if(t.some((function(t){return t.id.videoId===e.id.videoId})))t.splice(t.findIndex((function(t){return t.id.videoId===e.id.videoId})),1),n.setState({selectedVideoList:Object(b.a)(t)});else{var s=Object(b.a)(t);s.push(e),n.setState({selectedVideoList:s})}},n.refreshHandler=function(){var e=n.props.config;k(e).then((function(e){n.setState({initialReqVideo:e.data,renderVideos:e.data.items,nextPageToken:e.data.nextPageToken})})).catch((function(e){console.log(e)}))},n.loadMore=function(e){var t=n.props.config,s=n.state,i=s.searchQuery,c=s.nextPageToken,a=s.renderVideos,o=s.initialReqVideo;a.length!==o.pageInfo.totalResults?k(t,i,c).then((function(t){var s=n.state.renderVideos;(s=s.concat(t.data.items)).length+1>=o.pageInfo.totalResults&&(e.target.style.display="none");var i=0===s.length;n.setState({renderVideos:s,nextPageToken:t.data.nextPageToken,errorFound:i})})).catch((function(e){console.log(e),n.setState({errorFound:!0})})):e.target.style.display="none"},n.sendAndClose=function(e){var t=n.state.selectedVideoList;e?n.props.closeWindow(t):n.props.closeWindow([])},n.changeLayout=function(){n.setState((function(e){return{isGrid:!e.isGrid}}))},n.showAllVideos=function(){n.setState((function(e){return{isSelected:!e.isSelected}}))},n.showSelectedVideos=function(){n.setState((function(e){return{isSelected:!e.isSelected}}))},n.searchQueryHandler=function(e){var t=n.props.config,s=e.target.value.toLowerCase();n.setState({searchQuery:s}),13===e.charCode&&S(t,s).then((function(e){var t=0===e.data.items.length;n.setState({initialReqVideo:e.data,renderVideos:e.data.items,nextPageToken:e.data.nextPageToken,errorFound:t})}))},n.fetchQueryVideos=function(){var e=n.props.config,t=n.state.searchQuery;S(e,t).then((function(e){n.setState({initialReqVideo:e.data,renderVideos:e.data.items,nextPageToken:e.data.nextPageToken})}))},n.state={isGrid:!0,searchQuery:"",renderVideos:[],errorFound:!1,isSelected:!1,nextPageToken:void 0,initialReqVideo:void 0,selectedVideoList:e.selectedVideos,apiv3Url:""},n.loadMore=n.loadMore.bind(Object(h.a)(n)),n.changeLayout=n.changeLayout.bind(Object(h.a)(n)),n.refreshHandler=n.refreshHandler.bind(Object(h.a)(n)),n.selectingVideos=n.selectingVideos.bind(Object(h.a)(n)),n.fetchQueryVideos=n.fetchQueryVideos.bind(Object(h.a)(n)),n.searchQueryHandler=n.searchQueryHandler.bind(Object(h.a)(n)),n.userLogin=n.userLogin.bind(Object(h.a)(n)),n}return Object(r.a)(s,[{key:"componentDidUpdate",value:function(e){e.sid!==this.props.sid&&console.log("here is the updated sid in modal >>>>",this.props.sid)}},{key:"userLogin",value:function(){var e=this.props,t=e.content,s=e.config;console.log("props here >>>>",this.props);var n="".concat(t,"/webapp/1.0/login"),i=new Headers;i.append("Content-Type","application/x-www-form-urlencoded");var c=new URLSearchParams;c.append("p70","barathkumar.j@royalcyber.com"),c.append("p80","Barath@2023"),c.append("p90","".concat(s.platformUrl)),fetch(n,{method:"POST",headers:i,body:c,redirect:"follow"}).then((function(e){return e.text()})).then((function(e){return console.log("result here from api 2 in modal >>>>",e)})).catch((function(e){return console.log("error here from api 2 in modal >>>>",e)}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props,s=t.config,n=t.sid,i=t.content;console.log("in modal in mount sid and content >>>>",n,i),k(s).then((function(t){t.data.items.length+1>=t.data.pageInfo.totalResults&&(document.getElementsByClassName("load-more")[0].style.display="none");var s=0===t.data.items.length;e.setState({initialReqVideo:t.data,renderVideos:t.data.items,nextPageToken:t.data.nextPageToken,errorFound:s})})).catch((function(t){console.log(t),e.setState({errorFound:!0})}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.selectedVideos;e.selectedVideos!==t&&this.setState({selectedVideoList:e.selectedVideos})}},{key:"handleClick",value:function(){this.setState((function(e){return{isGrid:!e.isGrid}}))}},{key:"render",value:function(){var e=this,t=this.state,s=t.renderVideos,n=t.selectedVideoList,i=t.initialReqVideo,c=t.isSelected,a=t.errorFound,o=t.apiv3Url;return console.log("apiV3Url in modal is >>>>>>>",o),Object(p.jsx)("div",{className:"modal display-block",children:o?Object(p.jsxs)("section",{className:"modal-main",children:[this.props.children,Object(p.jsx)("div",{className:"modal-header",children:Object(p.jsx)("h2",{children:"Select Video"})}),Object(p.jsx)("div",{className:"search-bar",children:Object(p.jsxs)("div",{className:"cs-form-group search-box no-margin",children:[Object(p.jsx)("span",{className:"search-input",children:Object(p.jsx)("input",{type:"search",id:"search",className:"cs-text-box cs-global-search",placeholder:"Search Videos",onKeyPress:this.searchQueryHandler})}),Object(p.jsx)("span",{className:"search-icon",onClick:this.fetchQueryVideos,children:Object(p.jsx)("i",{className:"icon-search"})})]})}),Object(p.jsxs)("div",{className:"modal-body",children:[Object(p.jsxs)("div",{className:"video-section",children:[Object(p.jsx)("span",{children:"All Videos"}),Object(p.jsxs)("div",{className:"icons",children:[Object(p.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF5SURBVHgB1ZNNTsJAFIDfqyUiK47QI3CEeoO6gxW4MXVFEyxxJ+4MkEhX7c6ywcaNvUE5AjegR2AlTYQ+Z/oj08bWxJ0vaWY68773N+8hVIhmGO1mBG2+95xFWKWH5YOubg7YYZ9t1ZLmhggsgM91brCrjx/wBBoKYuMdCDoCFmarIp4hoBsnNmmC3zA0glQRQ4hja986uP5iscup3s1IIwmHDFaLgfFL3dymMC33zYMhgmXp3Zo8Si3/l3jOueffYJ6zCHORkWgIyLKB+Loe5sWlAZzqkl+MXvgH/1YQ/iisJkna2NPH2x/MTl7t6bIavlNZPwRIuJHZ2ytFlh5X9rwS5jOCESbeYyRLKnpGf+XMJ3VwKzp/hqxvPGfmygUNIo11ZXBEtN7sqS+CFx/yACIcsn5JYALpEtIamMTDTodD6hdTYnORWlaEHNlUnl15zlNyJyc5Z2F39XsX4Khm3dkpGqM1AS49e+aKQdc+I59SvkZN2FW1+ReWDaDM6q25YAAAAABJRU5ErkJggg==",alt:"refresh-icon",onClick:this.refreshHandler}),Object(p.jsx)("img",{src:this.state.isGrid?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAQCAYAAAD0xERiAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB8SURBVHgB7dKxDYAgEEDRuwuDMImJJQuY2OEkuol0Ji5AaeIkTAIGI52Q01DyG4p7uebAzR6SgDRk8uDNqHrHcSICIpohr2ILxxFUrC37nognfS722j1PL8NVC3d7aiRccyD4MA2qMxxHAYKEQmnOce2f/ViGgK4E0pzjLuIGN5tNMdeEAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADVSURBVHgBzZSxEcIwDEW/FA+SQYBLGjiOGhoKWIEJgE3S5SAD5KCJIQtkBEbIAJyMlQAD+FLkFfY/FbIsfZuKW+2gEOx6Pk0v5ePEzEcEwhgYIyJnFQR69Sew9TGMBiruddUpR816MTlcy+eeItohEAOHpE/dz8bBxeQoQSCa0OJbYZdXe/mLjQFS33XCV7ZZzrKirBOBJAjE/E1M3TUzTTYqYw8O5b5nKkTe7XaVNnlZxb4TMQIxhtEbOzLWr6l/entmjOhzgCBV4SJudfdTzljYIpAPogJIB3xnhUwAAAAASUVORK5CYII=",onClick:this.changeLayout,alt:"view-option"})]})]}),Object(p.jsxs)("div",{className:"video-section",children:[this.state.isSelected?Object(p.jsxs)("span",{className:"select-count",onClick:this.showAllVideos,children:["Show all videos(",null===i||void 0===i?void 0:i.pageInfo.totalResults,")"]}):Object(p.jsxs)("span",{className:"select-count",onClick:this.showSelectedVideos,children:["Show selected videos(",n.length,")"]}),Object(p.jsxs)("span",{className:"video-count",children:["showing ",s.length," of"," ",null===i||void 0===i?void 0:i.pageInfo.totalResults," videos"]})]}),this.state.isGrid?Object(p.jsx)(A,{videos:s,isSelected:c,checkFiles:a,loadContent:this.loadMore,handleSelect:this.selectingVideos,selectedVideoList:n,totalVideos:i&&i.pageInfo.totalResults}):Object(p.jsx)(O,{videos:s,isSelected:c,checkFiles:a,loadContent:this.loadMore,handleSelect:this.selectingVideos,selectedVideoList:n,totalVideos:i&&i.pageInfo.totalResults})]}),Object(p.jsx)("div",{className:"modal-footer",children:Object(p.jsxs)("div",{className:"right",children:[Object(p.jsx)("button",{className:"cancel-btn btn",onClick:function(){return e.sendAndClose(!1)},children:"Cancel"}),Object(p.jsxs)("button",{className:"add-btn btn",onClick:function(){return e.sendAndClose(!0)},children:["Add Selected Videos ",n.length]})]})})]}):Object(p.jsx)("section",{className:"modal-main",children:Object(p.jsx)("p",{onClick:this.userLogin,children:"Login will be here "})})})}}]),s}(i.a.PureComponent),C=function(e){Object(u.a)(s,e);var t=Object(j.a)(s);function s(e){var n;return Object(l.a)(this,s),(n=t.call(this,e)).onCloseWindow=function(e){e.length>0?window.opener.postMessage({message:"sending selected videos",selectedVideosList:e},"*"):window.opener.postMessage({message:"Window closed sending selected videos"},"*"),window.close()},n.state={message:"",config:void 0,selectedVideosList:[],sid:"",content:""},n.onCloseWindow=n.onCloseWindow.bind(Object(h.a)(n)),n}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var e=this;window.opener||window.close(),window.opener.postMessage({message:"get youtube config and selected videos",getConfig:!0},"*");window.addEventListener("message",(function(t){var s=t.data;console.log("popup data recieved >>>>>>",s),s.config&&e.setState({message:s.message,config:s.config}),s.selectedVideos&&e.setState({message:s.message,selectedVideosList:s.selectedVideos.videos,sid:s.selectedVideos.sid,content:s.selectedVideos.content})}),!1)}},{key:"render",value:function(){var e=this.state,t=e.config,s=e.selectedVideosList,n=e.sid,i=e.content;return console.log("sid here in popup >>>>>",n,i),console.log("config before modal>>>",t),Object(p.jsx)("div",{children:t&&Object(p.jsx)(I,{config:t,closeWindow:this.onCloseWindow,selectedVideos:s,sid:n,content:i})})}}]),s}(i.a.Component);s(60);var L=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(o.a,{children:Object(p.jsx)(d.c,{children:Object(p.jsx)(d.a,{exact:!0,path:"/",component:C})})})})},R=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,70)).then((function(t){var s=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;s(e),n(e),i(e),c(e),a(e)}))};a.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(L,{})}),document.getElementById("root")),R()}},[[69,1,2]]]);